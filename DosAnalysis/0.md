# Intro
What I do here is to use the [seed internet emulator](https://github.com/seed-labs/seed-emulator)\
On which to minic different types of DOS attacks.\
Then try to dump traffics to the victim.\ 
And do data mining and machine learning with [weka](https://www.cs.waikato.ac.nz/ml/weka/)\
Finally find how to predict a packet as DOS, and mitigate the attacks.

---

# Setup
a emulator containers group,\
an attacker kali machine, as the containers dont have too many tools,\
a victim machine,\
the attacker and victim can be connected by VPN.

---

## Enable Remote Access in Emulator

```python
ovpn = OpenVpnRemoteAccessProvider()
as162 = base.getAutonomousSystem(162)
as162.getNetwork('net0').enableRemoteAccess(ovpn)
```

## Find the port number

```
# docker ps --format "{{.ID}}:{{.Ports}}"
```

## Connect to the Access point (from VPN machine, outsider)

```
# openvpn --config ovpn-client.ovpn --remote <docker_host> <port> 
```

## Setting route (from VPN machine, outsider)

```
# sudo ip route add 10.0.0.0/8 dev tap0 via 10.162.0.254
```
- 10.0.0.0/8 is the emulators whole network.
- tap0 is the VPN machine (outsider) `s VPN interface.
- 10.162.0.254 is the access point`s default router.

---

# Traffic collectoin

   ## build a web service
   [simple Web service](https://github.com/YuchaoZheng88/simple-Web-service)   
   
   ## build database
   ### label

---

# Traffic analysis
   data mining with weka\
   https://www.cs.waikato.ac.nz/ml/weka/mooc/dataminingwithweka/
   
   discrete, nominal, "classification" problem\
   continuous, numeric, "regression" problem
   
   Dataset -> Training data, Test data.
   
   ```
                       Test data ->
   Training data -> ML algorithm -> Classifier -> Evaluation Results
   ```
   
   Probability of event H given evidence E.\
   Pr[H|E] = Pr(E|H) * Pr(H) / Pr(E)
   
---

# Prediction & Defence
